{"version":3,"sources":["services/persons.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","Entry","person","name","number","Form","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","handleDelete","map","p","key","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","addedMessage","setAddedMessage","useEffect","personService","initialPersons","e","preventDefault","indexOf","alert","returnedPerson","concat","setTimeout","target","find","window","confirm","deletedPerson","filter","ReactDOM","render","document","getElementById"],"mappings":"8MAEMA,EAAU,0DA0BD,EAxBA,WACX,OAAOC,IACEC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqBxB,EAlBA,SAAAC,GACX,OAAOL,IACEM,KAAKP,EAASM,GACdH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAexB,EANA,SAAAG,GACX,OAAOP,IACEQ,OADF,UACYT,EADZ,YACuBQ,IACrBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCtBjCK,EAAQ,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACf,OACE,2BAAIA,EAAOC,KAAX,IAAkBD,EAAOE,SAIvBC,EAAO,SAACC,GACZ,OACE,0BAAMC,SAAUD,EAAME,WACpB,sCACQ,2BAAOC,MAAOH,EAAMI,QAASC,SAAUL,EAAMM,oBAErD,wCACU,2BAAOH,MAAOH,EAAMO,UAAWF,SAAUL,EAAMQ,sBAEzD,6BACE,4BAAQC,KAAK,UAAb,UAMFC,EAAU,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAE1B,OACED,EAAQE,KAAI,SAAAC,GAAC,OACX,yBAAKC,IAAKD,EAAErB,IACV,kBAAC,EAAD,CAAOG,OAAQkB,IACf,4BAAQE,QAAS,kBAAMJ,EAAaE,EAAErB,MAAtC,eAMFwB,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAWtB,OAAe,OAAZA,EACM,KAIP,yBAAKC,MAfmB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KASXR,IAoFQS,EA/EH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRjB,EADQ,KACCkB,EADD,OAEgBD,mBAAS,IAFzB,mBAERxB,EAFQ,KAEC0B,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRrB,EAHQ,KAGGwB,EAHH,OAIwBH,mBAAS,MAJjC,mBAITI,EAJS,KAIKC,EAJL,KA8DhB,OARAC,qBAAU,WACRC,IAEG/C,MAAK,SAAAgD,GACJP,EAAWO,QAEd,IAGD,6BACE,yCACA,kBAAC,EAAD,CAAclB,QAASc,IACvB,kBAAC,EAAD,CACE9B,UArDY,SAACmC,IACjBA,EAAEC,iBAEa3B,EAAQE,KAAI,SAAAC,GAAC,OAAIA,EAAEjB,QAAM0C,QAAQnC,IAAY,GAE1DoC,MAAM,GAAD,OAAIpC,EAAJ,mCASP+B,EALqB,CACnBtC,KAAMO,EACNN,OAAQS,IAKPnB,MAAK,SAAAqD,GACJZ,EAAWlB,EAAQ+B,OAAOD,IAC1BX,EAAW,IACXC,EAAa,IACbE,EAAgB,SAAD,OACJQ,EAAe5C,OAE1B8C,YAAW,WACTV,EAAgB,QACf,SA6BH7B,QAASA,EACTE,iBA/DmB,SAAC+B,GACxBP,EAAWO,EAAEO,OAAOzC,QA+DhBI,UAAWA,EACXC,mBA7DqB,SAAC6B,GAC1BN,EAAaM,EAAEO,OAAOzC,UA8DpB,uCACA,kBAAC,EAAD,CAASQ,QAASA,EAASC,aA/BV,SAACnB,GACpB,IAAMI,EAAOc,EAAQkC,MAAK,SAAA/B,GAAC,OAAIA,EAAErB,KAAOA,KAAII,KACzCiD,OAAOC,QAAP,iBAAyBlD,EAAzB,QACDsC,EACQ1C,GACPL,MAAK,SAAA4D,GACJnB,EAAWlB,EAAQsC,QAAO,SAAAnC,GAAC,OAAIA,EAAErB,KAAOA,cCxGhDyD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.bc4f674f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://whispering-reef-93257.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios\r\n            .get(baseUrl)\r\n            .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios\r\n            .post(baseUrl, newObject)\r\n            .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios\r\n            .put(`${baseUrl}/${id}`, newObject)\r\n            .then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios\r\n            .delete(`${baseUrl}/${id}`)\r\n            .then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Entry = ({ person }) => {\r\n  return(\r\n    <p>{person.name} {person.number}</p>\r\n  )\r\n}\r\n\r\nconst Form = (props) => {\r\n  return(\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n\r\n  return(\r\n    persons.map(p => \r\n      <div key={p.id}>\r\n        <Entry person={p} />\r\n        <button onClick={() => handleDelete(p.id)}>delete</button>\r\n      </div>\r\n    )\r\n  )\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if(message === null) {\r\n    return null\r\n  }\r\n\r\n  return(\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [addedMessage, setAddedMessage] = useState(null)\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault()\r\n\r\n    const exists = persons.map(p => p.name).indexOf(newName) >= 0\r\n    if(exists) {\r\n      alert(`${newName} is already added to phonebook`)\r\n      return\r\n    }\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setAddedMessage(\r\n          `Added ${returnedPerson.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setAddedMessage(null)\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const name = persons.find(p => p.id === id).name\r\n    if(window.confirm(`Delete ${name} ?`)) {\r\n      personService\r\n      .remove(id)\r\n      .then(deletedPerson => {\r\n        setPersons(persons.filter(p => p.id !== id))\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={addedMessage} />\r\n      <Form \r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} handleDelete={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}